"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[774],{94774:(e,a,t)=>{t.r(a),t.d(a,{default:()=>de});var n=t(61758),l=t(38734),o=t(41640),r=t(58790),s=t(11333),i=t(40702),c=function(e,a,t,n){function l(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{i(n.next(e))}catch(a){o(a)}}function s(e){try{i(n["throw"](e))}catch(a){o(a)}}function i(e){e.done?t(e.value):l(e.value).then(r,s)}i((n=n.apply(e,a||[])).next())}))};const d={class:"flex items-center no-wrap"},u=["src"],p={class:"no-margin text-caption"},v=(0,n.Lk)("p",{class:"no-margin text-caption q-px-xs"}," /",-1),g=["src"],b={class:"no-margin text-caption"},f="https://scan.dapaltec.ru",m=(0,n.pM)({__name:"ExchangeTab",setup(e){const{getTradePairs:a,getAllTradePairs:t}=(0,s.W)(),o=(0,s.W)();return(0,n.sV)((()=>c(this,void 0,void 0,(function*(){yield a(),yield t()})))),(e,a)=>{const t=(0,n.g2)("q-item-section"),s=(0,n.g2)("q-item"),c=(0,n.g2)("q-avatar"),m=(0,n.g2)("q-list"),k=(0,n.g2)("q-spinner-bars"),x=(0,n.g2)("q-inner-loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(i.A,{offset:62},{default:(0,n.k6)((()=>[(0,n.bF)(m,{class:"withdrawal-list"},{default:(0,n.k6)((()=>[(0,n.bF)(s,{style:{position:"sticky",top:"0px","z-index":"100"},class:"bg-grey-3 withdrawal-item text-bold"},{default:(0,n.k6)((()=>[(0,n.bF)(t,{class:"text-center text-weight-medium text-caption"},{default:(0,n.k6)((()=>[(0,n.eW)("Пара")])),_:1}),(0,n.bF)(t,{class:"text-center text-weight-medium text-caption"},{default:(0,n.k6)((()=>[(0,n.eW)("Ордеров")])),_:1}),(0,n.bF)(t,{class:"text-center text-weight-medium text-caption"},{default:(0,n.k6)((()=>[(0,n.eW)("Последняя цена")])),_:1}),(0,n.bF)(t,{class:"text-center text-weight-medium text-caption"},{default:(0,n.k6)((()=>[(0,n.eW)("Дневной объем")])),_:1})])),_:1}),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,l.R1)(o).allTradePairs,((a,l)=>((0,n.uX)(),(0,n.Wv)(s,{clickable:"",onClick:t=>e.$router.push(`/exchange/trade/${a.have.key}/${a.want.key}`),key:l,class:"withdrawal-item"},{default:(0,n.k6)((()=>[(0,n.bF)(t,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",d,[(0,n.bF)(c,{class:"q-mr-xs",size:"20px"},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{src:f+a.have.iconURL,alt:""},null,8,u)])),_:2},1024),(0,n.Lk)("p",p,(0,r.v_)(a.have.nameOrig),1),v,(0,n.bF)(c,{class:"q-mr-xs",size:"20px"},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{src:f+a.want.iconURL,alt:""},null,8,g)])),_:2},1024),(0,n.Lk)("p",b,(0,r.v_)(a.want.nameOrig),1)])])),_:2},1024),(0,n.bF)(t,{class:"text-center text-caption"},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(a.orders),1)])),_:2},1024),(0,n.bF)(t,{class:"text-center text-caption"},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(a.last),1)])),_:2},1024),(0,n.bF)(t,{class:"text-center text-caption"},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(a.volume24),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,n.bF)(x,{showing:(0,l.R1)(o).loading},{default:(0,n.k6)((()=>[(0,n.bF)(k,{size:"30px"})])),_:1},8,["showing"])],64)}}});var k=t(54514),x=t(75329),h=t(63418),_=t(53581),F=t(97569),w=t(27066),A=t(31173),y=t(44031),q=t(24264),Q=t(62669),C=t(98582),L=t.n(C);const O=m,W=O;L()(m,"components",{QList:k.A,QItem:x.A,QItemSection:h.A,QAvatar:_.A,QCard:F.A,QCardSection:w.A,QSpace:A.A,QBadge:y.A,QInnerLoading:q.A,QSpinnerBars:Q.A});var T=t(59033),V=t(77474),R=t(3388),K=function(e,a,t,n){function l(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{i(n.next(e))}catch(a){o(a)}}function s(e){try{i(n["throw"](e))}catch(a){o(a)}}function i(e){e.done?t(e.value):l(e.value).then(r,s)}i((n=n.apply(e,a||[])).next())}))};const P={class:"no-margin text-caption text-weight-bold"},X={class:"no-margin text-caption"},E={class:"no-margin text-caption"},I={class:"no-margin text-caption"},S={class:"no-margin text-caption"},U=(0,n.Lk)("p",{class:"no-margin text-center"},"Вы уверены что хотите отменить ордер?",-1),z=(0,n.pM)({__name:"TradeOrderCard",props:{tradeOrder:{},isActiveOrder:{type:Boolean}},setup(e){const a=(0,s.W)(),{allAssets:t}=(0,T.G)(),{cancelOrder:o,signTransaction:i}=(0,V.Z)(),c=(0,l.KR)(!1),d=(0,l.KR)(),u=e=>K(this,void 0,void 0,(function*(){c.value=!0,d.value=yield o(e)})),p=()=>K(this,void 0,void 0,(function*(){yield i(d.value.raw),c.value=!1}));return(e,o)=>{const s=(0,n.g2)("q-card-section"),i=(0,n.g2)("q-btn"),d=(0,n.g2)("q-card-actions"),v=(0,n.g2)("q-card"),g=(0,n.g2)("q-dialog"),b=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(v,{flat:"",bordered:""},{default:(0,n.k6)((()=>[(0,n.bF)(s,{class:"q-pa-sm"},{default:(0,n.k6)((()=>{var a,o;return[(0,n.Lk)("p",P,(0,r.v_)(null===(a=(0,l.R1)(t).find((a=>a.key===e.tradeOrder.wantAssetKey)))||void 0===a?void 0:a.name)+" / "+(0,r.v_)(null===(o=(0,l.R1)(t).find((a=>a.key===e.tradeOrder.haveAssetKey)))||void 0===o?void 0:o.name),1),(0,n.Lk)("p",X,"Кол-во "+(0,r.v_)(e.tradeOrder.amountHave),1),(0,n.Lk)("p",E,"Цена "+(0,r.v_)(e.tradeOrder.price),1),(0,n.Lk)("p",I,"Итого "+(0,r.v_)(e.tradeOrder.amountWant),1),(0,n.Lk)("p",S,"Осталось "+(0,r.v_)(e.tradeOrder.leftWant),1)]})),_:1}),e.isActiveOrder?((0,n.uX)(),(0,n.Wv)(d,{key:0},{default:(0,n.k6)((()=>[(0,n.bF)(i,{color:"negative",loading:(0,l.R1)(a).loading,onClick:o[0]||(o[0]=a=>u(e.tradeOrder.seqNo)),unelevated:"",outline:"","no-caps":"",size:"12px",label:"Отменить ордер"},null,8,["loading"])])),_:1})):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(g,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)((()=>[(0,n.bF)(R.A,{style:{width:"100%"},"need-actions":"",title:" Подтверждение отмены ордера"},{actions:(0,n.k6)((()=>[(0,n.bF)(i,{"no-caps":"",unelevated:"",label:"Да",color:"positive",onClick:p}),(0,n.bo)((0,n.bF)(i,{"no-caps":"",unelevated:"",label:"Нет"},null,512),[[b]])])),default:(0,n.k6)((()=>[U])),_:1})])),_:1},8,["modelValue"])],64)}}});var B=t(16334),M=t(69001),$=t(57201),j=t(62769);const D=z,N=D;L()(z,"components",{QCard:F.A,QCardSection:w.A,QCardActions:B.A,QBtn:M.A,QDialog:$.A}),L()(z,"directives",{ClosePopup:j.A});var G=function(e,a,t,n){function l(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{i(n.next(e))}catch(a){o(a)}}function s(e){try{i(n["throw"](e))}catch(a){o(a)}}function i(e){e.done?t(e.value):l(e.value).then(r,s)}i((n=n.apply(e,a||[])).next())}))};const H={class:"flex column gap-2"},Z={class:"flex column gap-2"},J={class:"flex column gap-2"},Y=(0,n.pM)({__name:"OwnDealsTab",setup(e){const{getOwnOrders:a}=(0,s.W)(),t=(0,s.W)();(0,n.sV)((()=>G(this,void 0,void 0,(function*(){yield a()}))));const o=(0,l.KR)("active");return(e,a)=>{const r=(0,n.g2)("q-tab"),s=(0,n.g2)("q-tabs"),c=(0,n.g2)("q-separator"),d=(0,n.g2)("q-tab-panel"),u=(0,n.g2)("q-tab-panels"),p=(0,n.g2)("q-spinner-bars"),v=(0,n.g2)("q-inner-loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(s,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),dense:"",align:"justify"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{"no-caps":"",class:"bg-white text-info",name:"active",label:"Активные"}),(0,n.bF)(r,{"no-caps":"",class:"bg-white text-positive",name:"done",label:"Завершенные"}),(0,n.bF)(r,{"no-caps":"",class:"bg-white text-negative",name:"cancel",label:"Отмененные"})])),_:1},8,["modelValue"]),(0,n.bF)(c),(0,n.bF)(i.A,{offset:100},{default:(0,n.k6)((()=>[(0,n.bF)(u,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),animated:""},{default:(0,n.k6)((()=>[(0,n.bF)(d,{name:"active"},{default:(0,n.k6)((()=>{var e;return[(0,n.Lk)("div",H,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(null===(e=(0,l.R1)(t).ownOrders)||void 0===e?void 0:e.filter((e=>1===e.status||2===e.status)),(e=>((0,n.uX)(),(0,n.Wv)(N,{"trade-order":e,"is-active-order":""},null,8,["trade-order"])))),256))])]})),_:1}),(0,n.bF)(d,{name:"done"},{default:(0,n.k6)((()=>{var e;return[(0,n.Lk)("div",Z,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(null===(e=(0,l.R1)(t).ownOrders)||void 0===e?void 0:e.filter((e=>3===e.status)),(e=>((0,n.uX)(),(0,n.Wv)(N,{"trade-order":e,"is-active-order":!1},null,8,["trade-order"])))),256))])]})),_:1}),(0,n.bF)(d,{name:"cancel"},{default:(0,n.k6)((()=>{var e;return[(0,n.Lk)("div",J,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(null===(e=(0,l.R1)(t).ownOrders)||void 0===e?void 0:e.filter((e=>4===e.status)),(e=>((0,n.uX)(),(0,n.Wv)(N,{"trade-order":e,"is-active-order":!1},null,8,["trade-order"])))),256))])]})),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(v,{showing:(0,l.R1)(t).loading},{default:(0,n.k6)((()=>[(0,n.bF)(p,{size:"30px"})])),_:1},8,["showing"])],64)}}});var ee=t(64873),ae=t(26721),te=t(37015),ne=t(64082),le=t(63815);const oe=Y,re=oe;L()(Y,"components",{QTabs:ee.A,QTab:ae.A,QSeparator:te.A,QTabPanels:ne.A,QTabPanel:le.A,QInnerLoading:q.A,QSpinnerBars:Q.A});const se=(0,n.pM)({__name:"index",setup(e){const a=(0,l.KR)("own"),{p2pUser:t}=(0,o.P)();return(e,t)=>{const l=(0,n.g2)("q-tab"),o=(0,n.g2)("q-tabs"),r=(0,n.g2)("q-separator"),s=(0,n.g2)("q-tab-panel"),i=(0,n.g2)("q-tab-panels"),c=(0,n.g2)("q-card"),d=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(d,{padding:"",class:"page"},{default:(0,n.k6)((()=>[(0,n.bF)(c,{flat:"",bordered:"",class:"full-height"},{default:(0,n.k6)((()=>[(0,n.bF)(o,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),"indicator-color":"transparent",class:"shadow-2",align:"justify","active-color":"dark","active-bg-color":"tab"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{"no-caps":"",name:"exchange",label:"Биржа"}),(0,n.bF)(l,{"no-caps":"",name:"own",label:"Мои сделки"})])),_:1},8,["modelValue"]),(0,n.bF)(r),(0,n.bF)(i,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),animated:"",class:"full-height"},{default:(0,n.k6)((()=>[(0,n.bF)(s,{name:"exchange",class:"overflow-hidden"},{default:(0,n.k6)((()=>[(0,n.bF)(W)])),_:1}),(0,n.bF)(s,{name:"own",class:"overflow-hidden no-padding"},{default:(0,n.k6)((()=>[(0,n.bF)(re)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}});var ie=t(33177);const ce=se,de=ce;L()(se,"components",{QPage:ie.A,QCard:F.A,QTabs:ee.A,QTab:ae.A,QSeparator:te.A,QTabPanels:ne.A,QTabPanel:le.A})}}]);