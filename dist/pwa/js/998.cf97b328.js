"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[998],{83998:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(61758),a=n(38734),l=n(58790),o=n(3388),u=n(41640),c=n(77854),s=function(e,t,n,i){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,l){function o(e){try{c(i.next(e))}catch(t){l(t)}}function u(e){try{c(i["throw"](e))}catch(t){l(t)}}function c(e){e.done?n(e.value):a(e.value).then(o,u)}c((i=i.apply(e,t||[])).next())}))};const d={key:1,class:"text-center text-weight-medium q-mt-lg"},r=(0,i.pM)({__name:"notifications",setup(e){const{getNotifications:t,setNotificationRead:n}=(0,u.P)(),r=(0,u.P)(),p=(0,a.KR)(!1);function f(e){return s(this,void 0,void 0,(function*(){p.value=!p.value,yield c.rupayApi.post("/api/p2p/delete_notification",{id:e}),yield t(),p.value=!p.value}))}return(0,i.sV)((()=>s(this,void 0,void 0,(function*(){yield n()})))),(e,t)=>{const n=(0,i.g2)("q-item-label"),u=(0,i.g2)("q-item-section"),c=(0,i.g2)("q-btn"),s=(0,i.g2)("q-item"),g=(0,i.g2)("q-list"),v=(0,i.g2)("q-page"),k=(0,i.gN)("auto-animate");return(0,i.uX)(),(0,i.Wv)(v,{padding:""},{default:(0,i.k6)((()=>[(0,i.bF)(o.A,{title:"Оповещения"},{default:(0,i.k6)((()=>[(0,a.R1)(r).notifications.length>0?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(g,{key:0,separator:""},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,a.R1)(r).notifications,(t=>((0,i.uX)(),(0,i.Wv)(s,{clickable:"",class:(0,l.C4)(t.is_new?"bg-grey-2":""),key:t.id},{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(n,{overline:""},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(new Date(t.createdAt).toLocaleString()),1)])),_:2},1024),(0,i.bF)(n,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(t.text),1)])),_:2},1024)])),_:2},1024),(0,i.bF)(u,{side:""},{default:(0,i.k6)((()=>[t.trade_uid?((0,i.uX)(),(0,i.Wv)(c,{key:0,dense:"",size:"10px",class:"q-mb-sm q-py-sm q-px-md",color:"primary","no-caps":"",unelevated:"",loading:p.value,onClick:n=>e.$router.push(`/p2p/trade/${t.trade_uid}`),label:"В сделку"},null,8,["loading","onClick"])):(0,i.Q3)("",!0),(0,i.bF)(c,{dense:"",loading:p.value,size:"10px",color:"negative",onClick:e=>f(t.id),class:"full-width q-px-md","no-caps":"",unelevated:"",label:"Удалить"},null,8,["loading","onClick"])])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})),[[k]]):((0,i.uX)(),(0,i.CE)("p",d,"Сообщений нет"))])),_:1})])),_:1})}}});var p=n(33177),f=n(54514),g=n(75329),v=n(63418),k=n(35779),b=n(69001),m=n(98582),_=n.n(m);const y=r,h=y;_()(r,"components",{QPage:p.A,QList:f.A,QItem:g.A,QItemSection:v.A,QItemLabel:k.A,QBtn:b.A})}}]);