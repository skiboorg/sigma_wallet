"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[376],{26376:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var l=n(61758),a=n(58790),s=n(38734),u=n(29104),o=n(77474),i=n(3388),r=n(59033),c=n(7757),d=n(7711),v=n(95522),p=n(94461),g=n(2177),b=n(81750),f=function(e,t,n,l){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function u(e){try{i(l.next(e))}catch(t){s(t)}}function o(e){try{i(l["throw"](e))}catch(t){s(t)}}function i(e){e.done?n(e.value):a(e.value).then(u,o)}i((l=l.apply(e,t||[])).next())}))};const y=(0,l.Lk)("p",{class:""}," Зачисление на баланс Бота производится в течении 24 часов зачисление происходит за минусом комиссии 3%, если юзер нейм не найден средства возвращаются на баланс за минусом комиссии сети и газа ",-1),h={class:"no-margin text-h6"},m={class:"text-h6"},k=(0,l.Lk)("p",{class:"text-grey-7 q-mb-sm"},"Кол-во отправляемого актива *",-1),w=(0,l.pM)({__name:"chicken",setup(e){const{toast:t,sendTgMessage:n,Icon:w,Color:_}=(0,v.d)(),A=g.env.CHIKENBRO_URL,C=(0,s.KR)(null),x=(0,s.KR)(null),{getFee:B,signTransaction:F}=(0,o.Z)(),{getOwnAssetByKey:L,address:T}=(0,r.G)(),K=L("1048674");(0,l.KC)((()=>f(this,void 0,void 0,(function*(){yield M()}))));const M=()=>f(this,void 0,void 0,(function*(){const e=yield p.A.get(A+`/api/user/get_user?wallet=${T}`);C.value=e.data.balance})),R=()=>f(this,void 0,void 0,(function*(){const e=yield B(1048674,x.value,"7NBHJjDugvtNq9GsMMcwcbx7yNMAn47fLH","Пополнение баланса игры","Пополнение баланса игры");if(e.success){const n=yield F(e.raw);b.log(n),n.success?(yield p.A.post(A+"/api/user/add_to_balance",{wallet:T,signature:n.result.signature}),yield M()):t(n.result,w.error,_.error)}x.value=null}));return(e,t)=>{const n=(0,l.g2)("q-form"),o=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(o,{padding:""},{default:(0,l.k6)((()=>[(0,l.bF)(i.A,{title:"Пополнение баланса ChickenBro"},{default:(0,l.k6)((()=>{var e;return[y,(0,l.Lk)("p",h,"Ваш баланс "+(0,a.v_)(null===(e=(0,s.R1)(K))||void 0===e?void 0:e.balance.own)+" CBT",1),(0,l.Lk)("p",m,"Ваш внутриигровой баланс "+(0,a.v_)(C.value)+" CBT",1),(0,l.bF)(n,{onSubmit:(0,u.D$)(R,["prevent"])},{default:(0,l.k6)((()=>[k,(0,l.bF)(d.A,{dense:"",outlined:"",modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=e=>x.value=e),type:"number","lazy-rules":"","margin-bottom":!1,rules:[e=>e&&e.length>0||"Это обязательное поле"]},null,8,["modelValue","rules"]),(0,l.bF)(c.A,{type:"submit","is-tx-button":"",label:"Отправить",class:"invertBtn"})])),_:1})]})),_:1})])),_:1})}}});var _=n(33177),A=n(21565),C=n(98582),x=n.n(C);const B=w,F=B;x()(w,"components",{QPage:_.A,QForm:A.A})}}]);