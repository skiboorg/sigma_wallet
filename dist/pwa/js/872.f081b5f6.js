"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[872],{64872:(e,l,n)=>{n.r(l),n.d(l,{default:()=>q});var a=n(61758),t=n(38734),o=n(58790),u=n(3388),d=n(41640),i=n(52664),s=function(e,l,n,a){function t(e){return e instanceof n?e:new n((function(l){l(e)}))}return new(n||(n=Promise))((function(n,o){function u(e){try{i(a.next(e))}catch(l){o(l)}}function d(e){try{i(a["throw"](e))}catch(l){o(l)}}function i(e){e.done?n(e.value):t(e.value).then(u,d)}i((a=a.apply(e,l||[])).next())}))};const c={key:0,class:"flex column gap-3"},v={class:"no-margin text-body1"},p={class:"no-margin text-caption"},r={class:""},m={key:1,class:"text-center no-margin text-weight-medium"},y={key:1},b=(0,a.pM)({__name:"settings",setup(e){const{paymentMethods:l,p2pUser:n}=(0,d.P)(),b=(0,d.P)(),{deleteP2PPayment:g,addP2PPayment:h,loading:k,addTG:f}=(0,i.Z)(),_=(0,t.KR)(!1),w=(0,t.KR)(!1),C=(0,t.KR)(null),R=(0,t.KR)({selectedMethod:null,selectedType:null,info:null}),q=()=>s(this,void 0,void 0,(function*(){yield h(R.value),R.value={selectedMethod:null,selectedType:null,info:null},_.value=!1}));return(0,a.sV)((()=>{var e,l;w.value=null===(e=b.p2pUser)||void 0===e?void 0:e.use_telegramm,C.value=null===(l=b.p2pUser)||void 0===l?void 0:l.telegramm})),(e,n)=>{const d=(0,a.g2)("q-btn"),i=(0,a.g2)("q-select"),s=(0,a.g2)("q-input"),h=(0,a.g2)("q-page"),f=(0,a.gN)("auto-animate");return(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{padding:""},{default:(0,a.k6)((()=>[(0,a.bF)(u.A,{title:"Ваши платежные реквизиты",class:"q-mb-sm","with-action":""},{action:(0,a.k6)((()=>[(0,a.bF)(d,{loading:(0,t.R1)(k),color:"secondary",icon:"add",onClick:n[0]||(n[0]=e=>_.value=!_.value),dense:"",unelevated:""},null,8,["loading"])])),default:(0,a.k6)((()=>{var e,l;return[(null===(e=(0,t.R1)(b).p2pUser)||void 0===e?void 0:e.payment_types.length)?((0,a.uX)(),(0,a.CE)("div",c,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(null===(l=(0,t.R1)(b).p2pUser)||void 0===l?void 0:l.payment_types,(e=>((0,a.uX)(),(0,a.Wv)(u.A,{horizontal:"","slot-classes":"justify-between",key:e.id},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("p",v,(0,o.v_)(e.label),1),(0,a.Lk)("p",p,(0,o.v_)(e.payment_info),1)]),(0,a.Lk)("div",r,[(0,a.bF)(d,{color:"negative",loading:(0,t.R1)(k),icon:"delete",onClick:l=>(0,t.R1)(g)(e.id),dense:"",unelevated:""},null,8,["loading","onClick"])])])),_:2},1024)))),128))])):((0,a.uX)(),(0,a.CE)("p",m,"Реквизиты не добавлены"))]})),_:1}),_.value?((0,a.uX)(),(0,a.Wv)(u.A,{key:0,class:"q-my-sm",title:"Добавление платежных рекизитов","with-action":""},{action:(0,a.k6)((()=>[(0,a.bF)(d,{loading:(0,t.R1)(k),color:"negative",icon:"close",onClick:n[1]||(n[1]=e=>_.value=!_.value),dense:"",unelevated:""},null,8,["loading"])])),default:(0,a.k6)((()=>[(0,a.bF)(i,{outlined:"",dense:"",options:(0,t.R1)(l),modelValue:R.value.selectedMethod,"onUpdate:modelValue":[n[2]||(n[2]=e=>R.value.selectedMethod=e),n[3]||(n[3]=e=>R.value.selectedType=null)],clearable:"",class:"q-mb-md",behavior:"menu",label:"Платежная система"},null,8,["options","modelValue"]),R.value.selectedMethod?((0,a.uX)(),(0,a.Wv)(i,{key:0,outlined:"",dense:"",options:R.value.selectedMethod.types,clearable:"",modelValue:R.value.selectedType,"onUpdate:modelValue":n[4]||(n[4]=e=>R.value.selectedType=e),class:"q-mb-md",behavior:"menu",label:"Тип оплаты"},null,8,["options","modelValue"])):(0,a.Q3)("",!0),R.value.selectedType?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.bF)(s,{outlined:"",modelValue:R.value.info,"onUpdate:modelValue":n[5]||(n[5]=e=>R.value.info=e),type:"textarea",label:"Реквизиты",clearable:"",class:"q-mb-md"},null,8,["modelValue"]),(0,a.bF)(d,{color:"positive",loading:(0,t.R1)(k),disable:!R.value.info,onClick:q,"no-caps":"",unelevated:"",class:"full-width q-py-md",label:"Добавить"},null,8,["loading","disable"])])):(0,a.Q3)("",!0)])),_:1})):(0,a.Q3)("",!0)])),_:1})),[[f]])}}});var g=n(33177),h=n(69001),k=n(88515),f=n(68926),_=n(12225),w=n(98582),C=n.n(w);const R=b,q=R;C()(b,"components",{QPage:g.A,QBtn:h.A,QSelect:k.A,QInput:f.A,QCheckbox:_.A})}}]);